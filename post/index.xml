<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Linux</title>
    <link>http://linux.mingguilu.com/post/</link>
    <description>Recent content in Posts on Linux</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Thu, 16 Mar 2017 15:52:59 +0800</lastBuildDate>
    <atom:link href="http://linux.mingguilu.com/post/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Ubuntu安装matplotlib</title>
      <link>http://linux.mingguilu.com/2017/03/16/ubuntu%E5%AE%89%E8%A3%85matplotlib</link>
      <pubDate>Thu, 16 Mar 2017 15:52:59 +0800</pubDate>
      
      <guid>http://linux.mingguilu.com/2017/03/16/ubuntu%E5%AE%89%E8%A3%85matplotlib</guid>
      <description>

&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://matplotlib.org/&#34;&gt;Matplotlib&lt;/a&gt;&lt;/strong&gt;是一个 Python 的 2D绘图库，它以各种硬拷贝格式和跨平台的交互式环境生成出版质量级别的图形。通过 Matplotlib，开发者可以仅需要几行代码，便可以生成绘图，直方图，功率谱，条形图，错误图，散点图等&lt;/p&gt;

&lt;h3 id=&#34;在ubuntu16-04安装matplotlib:be69ac83e95e67f9bc837efa38186a09&#34;&gt;在Ubuntu16.04安装Matplotlib&lt;/h3&gt;

&lt;h4 id=&#34;1-如果使用ubuntu16-04系统自带python3版本:be69ac83e95e67f9bc837efa38186a09&#34;&gt;1. 如果使用Ubuntu16.04系统自带Python3版本：&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ pytho3 --version
Python 3.5.1+

$ sudo apt install python3-matplotlib
正在读取软件包列表.. . 完成
正在分析软件包的依赖关系树       
正在读取状态信息... 完成       
将会同时安装下列软件：
  binutils blt cpp-5 fonts-lyx g++-5 gcc-5 gcc-5-base javascript-common libasan2 libatomic1 libblas-common libblas3 libcc1-0 libcilkrts5 libgcc-5-dev libgfortran3
  libgomp1 libitm1 libjs-jquery libjs-jquery-ui liblapack3 liblsan0 libmpx0 libquadmath0 libstdc++-5-dev libstdc++6 libtsan0 libubsan0 python-matplotlib-data
  python3-cycler python3-dateutil python3-numpy python3-tk python3-tz tk8.6-blt2.5 ttf-bitstream-vera
建议安装：
  binutils-doc blt-demo gcc-5-locales g++-5-multilib gcc-5-doc libstdc++6-5-dbg gcc-5-multilib libgcc1-dbg libgomp1-dbg libitm1-dbg libatomic1-dbg libasan2-dbg
  liblsan0-dbg libtsan0-dbg libubsan0-dbg libcilkrts5-dbg libmpx0-dbg libquadmath0-dbg apache2 | lighttpd | httpd libjs-jquery-ui-docs libstdc++-5-doc dvipng ffmpeg
  inkscape ipython3 python-matplotlib-doc python3-cairocffi python3-gobject python3-nose python3-pyqt4 python3-scipy python3-sip python3-tornado texlive-extra-utils
  texlive-latex-extra ttf-staypuft gfortran python-numpy-doc python3-dev python3-numpy-dbg tix python3-tk-dbg
下列【新】软件包将被安装：
  blt fonts-lyx javascript-common libblas-common libblas3 libgfortran3 libjs-jquery libjs-jquery-ui liblapack3 python-matplotlib-data python3-cycler python3-dateutil
  python3-matplotlib python3-numpy python3-tk python3-tz tk8.6-blt2.5 ttf-bitstream-vera
下列软件包将被升级：
  binutils cpp-5 g++-5 gcc-5 gcc-5-base libasan2 libatomic1 libcc1-0 libcilkrts5 libgcc-5-dev libgomp1 libitm1 liblsan0 libmpx0 libquadmath0 libstdc++-5-dev
  libstdc++6 libtsan0 libubsan0
升级了 19 个软件包，新安装了 18 个软件包，要卸载 0 个软件包，有 480 个软件包未被升级。
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-如果使用python2-7:be69ac83e95e67f9bc837efa38186a09&#34;&gt;2. 如果使用Python2.7&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ python --version
$ Python 2.7.11+

sudo apt install python-matplotlib
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-如果安装了较新的python版本-就必须安装matplotlib依赖的一些库:be69ac83e95e67f9bc837efa38186a09&#34;&gt;3. 如果安装了较新的python版本，就必须安装matplotlib依赖的一些库：&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ python3 --version
Python 3.5.2

$ sudo apt install python3.5-dev python3.5-tk tk-dev
$ sudo apt install libfreetype6-dev g++

$ pip install --user matplotlib
# 安装包时可能需要使用pip3，而不是pip。另外，如果这个命令不管用，可能需要删除标志`--user`   

Collecting matplotlib
  Downloading matplotlib-2.0.0-1-cp27-cp27mu-manylinux1_x86_64.whl (14.6MB)
    100% |████████████████████████████████| 14.6MB 58kB/s 
Collecting numpy&amp;gt;=1.7.1 (from matplotlib)
  Downloading numpy-1.12.0-cp27-cp27mu-manylinux1_x86_64.whl (16.5MB)
    100% |████████████████████████████████| 16.5MB 70kB/s 
Collecting cycler&amp;gt;=0.10 (from matplotlib)
  Downloading cycler-0.10.0-py2.py3-none-any.whl
Collecting python-dateutil (from matplotlib)
  Downloading python_dateutil-2.6.0-py2.py3-none-any.whl (194kB)
    100% |████████████████████████████████| 194kB 135kB/s 
Collecting functools32 (from matplotlib)
  Downloading functools32-3.2.3-2.zip
Requirement already satisfied: six&amp;gt;=1.10 in ./.local/lib/python2.7/site-packages (from matplotlib)
Collecting pytz (from matplotlib)
  Downloading pytz-2016.10-py2.py3-none-any.whl (483kB)
    100% |████████████████████████████████| 491kB 252kB/s 
Requirement already satisfied: pyparsing!=2.0.0,!=2.0.4,!=2.1.2,!=2.1.6,&amp;gt;=1.5.6 in ./.local/lib/python2.7/site-packages (from matplotlib)
Collecting subprocess32 (from matplotlib)
  Downloading subprocess32-3.2.7.tar.gz (54kB)
    100% |████████████████████████████████| 61kB 477kB/s 
Building wheels for collected packages: functools32, subprocess32
  Running setup.py bdist_wheel for functools32 ... done
  Stored in directory: /home/imkind/.cache/pip/wheels/3c/d0/09/cd78d0ff4d6cfecfbd730782a7815a4571cd2cd4d2ed6e69d9
  Running setup.py bdist_wheel for subprocess32 ... done
  Stored in directory: /home/imkind/.cache/pip/wheels/7d/4c/a4/ce9ceb463dae01f4b95e670abd9afc8d65a45f38012f8030cc
Successfully built functools32 subprocess32
Installing collected packages: numpy, cycler, python-dateutil, functools32, pytz, subprocess32, matplotlib
Successfully installed cycler-0.10.0 functools32-3.2.3.post2 matplotlib-2.0.0 numpy-1.12.0 python-dateutil-2.6.0 pytz-2016.10 subprocess32-3.2.7
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;测试matplotlib:be69ac83e95e67f9bc837efa38186a09&#34;&gt;测试matplotlib&lt;/h3&gt;

&lt;p&gt;在python中导入matplotlib，如果没有出现任何错误消息，说明matplotlib安装成功&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ python3
Python 3.5.2 (default, Nov 17 2016, 17:05:23) 
[GCC 5.4.0 20160609] on linux
Type &amp;quot;help&amp;quot;, &amp;quot;copyright&amp;quot;, &amp;quot;credits&amp;quot; or &amp;quot;license&amp;quot; for more information.
&amp;gt;&amp;gt;&amp;gt; 
&amp;gt;&amp;gt;&amp;gt; import matplotlib
&amp;gt;&amp;gt;&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;pre&gt;&lt;code&gt;*参考文档*

* 《Python编程从入门到实践》-- 数据可视化 15.1 安装matplotlib --p285-287
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Ubuntu磁盘空间不足:卷boot仅剩余xxMB的磁盘空间</title>
      <link>http://linux.mingguilu.com/2017/02/27/ubuntu%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E4%B8%8D%E8%B6%B3%E5%8D%B7boot%E4%BB%85%E5%89%A9%E4%BD%99xxmb%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4</link>
      <pubDate>Mon, 27 Feb 2017 08:47:45 +0800</pubDate>
      
      <guid>http://linux.mingguilu.com/2017/02/27/ubuntu%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E4%B8%8D%E8%B6%B3%E5%8D%B7boot%E4%BB%85%E5%89%A9%E4%BD%99xxmb%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4</guid>
      <description>

&lt;p&gt;最近启动Ubuntu16.04进入桌面之后，总弹出&amp;rdquo;磁盘空间不足:卷boot仅剩余5.1MB的硬盘空间&amp;rdquo;的提示&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170227_01_00_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;点击&amp;rdquo;分析&amp;hellip;&amp;ldquo;之后提示&amp;rdquo;无法扫描&amp;rdquo;/boot&amp;rdquo;所包含的某些文件夹　Error opening directory &amp;lsquo;/boot/lost+found&amp;rsquo;:权限不够&amp;rdquo;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170227_01_00_02.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;安装Ubuntu16.04系统时，分配给boot分区200MB的磁盘空间，升级系统之后，之前的内核版本依然会存在boot分区中，造成分区的空间不足。需要删除旧的Linux内核版本，保留当前使用的版本即可。&lt;/p&gt;

&lt;h4 id=&#34;1-查看已存在的linux-image版本:13cdc48018125c721d0ba97d2c9dfa24&#34;&gt;1.  查看已存在的Linux-image版本&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo dpkg --get-selections |grep linux-image  
linux-image-4.4.0-21-generic            install  
linux-image-4.4.0-59-generic            install  
linux-image-4.4.0-62-generic            install  
linux-image-4.4.0-64-generic            install  
linux-image-extra-4.4.0-21-generic      install  
linux-image-extra-4.4.0-59-generic      install  
linux-image-extra-4.4.0-62-generic      install  
linux-image-extra-4.4.0-64-generic      install  
linux-image-generic             install     
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-查看当前正在使用的linux内核版本:13cdc48018125c721d0ba97d2c9dfa24&#34;&gt;2. 查看当前正在使用的Linux内核版本&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ uname -r  
4.4.0-62-generic
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;或&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cat /proc/version  
Linux version 4.4.0-62-generic (buildd@lcy01-30) (gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.4) ) #83-Ubuntu SMP Wed Jan 18 14:10:15 UTC 2017
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-卸载其它不用的内核版本:13cdc48018125c721d0ba97d2c9dfa24&#34;&gt;3. 卸载其它不用的内核版本&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo apt purge linux-image-4.4.0-21-generic 　

$ sudo apt purge linux-image-4.4.0-59-generic 
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;4-再次查看剩余的版本:13cdc48018125c721d0ba97d2c9dfa24&#34;&gt;4. 再次查看剩余的版本&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo dpkg --get-selections | grep linux-image  
linux-image-4.4.0-62-generic            install  
linux-image-4.4.0-64-generic            install  
linux-image-extra-4.4.0-62-generic      install  
linux-image-extra-4.4.0-64-generic      install  
linux-image-generic             install  
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;5-查看-boot分区的空间使用情况:13cdc48018125c721d0ba97d2c9dfa24&#34;&gt;5. 查看/boot分区的空间使用情况&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ df -lh | grep boot   
文件系统        1K-块     已用    可用   已用%  挂载点  
/dev/sda1      180M     104M   64M     62%　　/boot  
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;参考文档&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.linuxdiyf.com/linux/23774.html&#34;&gt;Ubuntu提示卷boot仅剩0字节的硬盘空间，解决办法&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>CentOS7使用YUM搭建Samba文件共享</title>
      <link>http://linux.mingguilu.com/2017/02/23/centos7%E4%BD%BF%E7%94%A8yum%E6%90%AD%E5%BB%BAsamba%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB</link>
      <pubDate>Thu, 23 Feb 2017 21:14:26 +0800</pubDate>
      
      <guid>http://linux.mingguilu.com/2017/02/23/centos7%E4%BD%BF%E7%94%A8yum%E6%90%AD%E5%BB%BAsamba%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB</guid>
      <description>

&lt;h3 id=&#34;1-关于samba:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;1. 关于Samba&lt;/h3&gt;

&lt;p&gt;Samba用于在Linux、UNIX和Windows之间提供安全、稳定、快速的文件和打印服务。&lt;/p&gt;

&lt;p&gt;Samba所需的软件包括：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Samba  服务器端软件包&lt;/li&gt;
&lt;li&gt;Samba-client  客户端软件包&lt;/li&gt;
&lt;li&gt;Samba-common  Samba公共文件软件包&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Samba有smbd和nmbd两个守护进程组成，两个进程的而启动脚本是独立的：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;smbd服务进程  为客户端提供文件共享和打印机服务，还负责用户权限验证以及锁功能，默认监听端口TCP协议的139和445&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;nmbd服务进程  提供NetBIOS名称服务，以满足基于Common Internet File System (CIFS)协议的共享访问，默认使用UDP协议的137端口&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;2-关闭防火墙和selinux:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;2. 关闭防火墙和SELinux&lt;/h3&gt;

&lt;p&gt;CentOS7防火墙与SELinux默认是开启状态，并拒绝远程用户对Samba的访问，需要暂时关闭。&lt;/p&gt;

&lt;p&gt;查看防火墙状态&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# systemctl status firewalld.service
● firewalld.service - firewalld - dynamic firewall daemon
   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; vendor preset: enabled)
   Active: active (running) since 二 2016-10-18 00:23:15 CST; 38min ago
 Main PID: 843 (firewalld)
   CGroup: /system.slice/firewalld.service
           └─843 /usr/bin/python -Es /usr/sbin/firewalld --nofork --nopid

10月 18 00:23:15 localhost.localdomain systemd[1]: Started firewalld - dynamic firewall daemon.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看SELinux状态&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# getenforce
Enforcing
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;临时关闭SELinux&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# setenforce 0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;永久关闭SELinux&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# sed -i &amp;quot;/SELINUX=/c SELINUX=disable&amp;quot; /etc/sysconfig/selinux
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;临时关闭防火墙&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# systemctl stop firewalld.service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;永久关闭防火墙&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# systemctl disable firewalld.service
Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.
Removed symlink /etc/systemd/system/basic.target.wants/firewalld.service.
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;3-配置samba服务器:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;3. 配置Samba服务器&lt;/h3&gt;

&lt;p&gt;安装Samba软件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# yum install -y samba

# rpm -qa | grep samba
samba-common-4.4.4-12.el7_3.noarch
samba-client-libs-4.4.4-12.el7_3.x86_64
samba-common-tools-4.4.4-12.el7_3.x86_64
samba-4.4.4-12.el7_3.x86_64
samba-common-libs-4.4.4-12.el7_3.x86_64
samba-libs-4.4.4-12.el7_3.x86_64
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;启动smb和nmb服务&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# systemctl start smb.service
# systemctl start nmb.service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;停止smb和nmb服务&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# systemctl stop smb.service
# systemctl stop nmb.service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;重启smb和nmb服务&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# systemctl restart smb.service
# systemctl restart nmb.service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看smb和nmb服务状态&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# systemctl status smb.service
# systemctl status nmb.service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;设置smb和nmb服务器自启动&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# systemctl enable smb.service
# systemctl enable nmb.service
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;4-创建共享目录:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;4. 创建共享目录&lt;/h3&gt;

&lt;p&gt;假设目前有设计、开发、运维三个部门，各自创建一个部门共享目录供部门内部共享文件，和一个公共共享目录供部门间互相共享文件：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# mkdir -p /filesrv/{design,develop,ops,share/{design,develop,ops}}

# tree /filesrv/
/filesrv/
├── design
├── develop
├── ops
└── share
    ├── desing
    ├── develop
    └── ops
7 directories, 0 files
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;5-创建samba账户:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;5. 创建Samba账户&lt;/h3&gt;

&lt;p&gt;在使用useradd创建系统账户时使用参数 -s /sbin/nologin 指定账户无法登陆系统，提高账户安全性&lt;/p&gt;

&lt;p&gt;Smaba共享使用的账户就是服务器端操作系统中真实存在的系统账户，但必须使用smbpasswd命令添加为Samba账户并设置独立的密码，而不可以使用系统密码&lt;/p&gt;

&lt;p&gt;Samba默认将账户与密码文件存放在/var/lib/samba/private目录下&lt;/p&gt;

&lt;p&gt;假设每个部门创建2个Samba账户，并加入对应部门的组中：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# groupadd design
# useradd design1 -g design -s /sbin/nologin -M
# useradd design2 -g design -s /sbin/nologin -M
# smbpasswd -a design1
# smbpasswd -a design2

# groupadd develop
# useradd develop1 -g develop -s /sbin/nologin -M
# useradd develop2 -g develop -s /sbin/nologin -M
# smbpasswd -a develop1
# smbpasswd -a develop2

# groupadd ops
# useradd ops1 -g ops -s /sbin/nologin -M
# useradd ops2 -g ops -s /sbin/nologin -M
# smbpasswd -a ops1
# smbpasswd -a ops2
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;6-修改配置文件:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;6. 修改配置文件&lt;/h3&gt;

&lt;p&gt;Samba默认配置文件：/etc/samba/smb.conf&lt;/p&gt;

&lt;p&gt;好习惯说三遍：备份配置文件！备份配置文件！备份配置文件！&lt;/p&gt;

&lt;p&gt;配置文件解析：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[global]                                                                                    # 定义全局策略
    workgroup = SAMBA                                                               # 定义工作组                                  
    interfaces = lo 192.168.80.101/24                               # 指定samba监听哪些网络端口
    hosts allow = 127. 192.168.80. EXCEPT 192.168.80.250            # 指定有权访问Samba服务器资源的主机，与之相反的是hosts deny，使用EXCEPT可以指定例外的IP地址
    log_file = /var/log/samba/log.%m                            # 指定日志文件，每个访问主机会独立产生日志
    max log size = 50                                                       # 定义单个日志文件最大容量为50kb

    security = user                                                                 # 设置客户端访问Samba的方式
    # user表示使用用户名和密码验证身份
    # share表示匿名访问
    # server表示验证身份的访问，但账户信息保存在另一台smb服务器上
    # domain也表示验证身份的访问，但账户信息保存在活动目录中

    passdb backend = tdbsam                                           # 账户与密码的存储方式
    # smbpasswd表示老的明文格式存储账户及密码
    # tdbsam表示基于TDB的密文格式存储
    # ldapsam表示用LDAP存储账户资料

    guest account = nobody                                      # 设置匿名账户为nobody
    deadtime = 10# 连接回话自动关闭的期限，在大量并发访问环境中可提高服务器性能
    max connections = 0                                         # 设置最大连接数，0表示无限制

    printing = cups                                                                 # 设置打印工具为cups ?? http://yuanbin.blog.51cto.com/363003/115768/
    printcap name = cups                                        # ？？？
    load printers = yes                                                         # 是否共享打印机
    cups options = raw                                                          # 打印属性

[filesrv]                                                                                   # 共享名称
        comment = Home Directories                              # 共享描述信息
        path = /filesrv                                         # 共享路径
        browseable = no                                                 # 是否对所有人可见（yes|no）
        public = no                                                                     # 是否被所有人可读(yes|no)
        read only = No                                                              # 是否只读（yes|no）
        writeable = no                                                              # 是否可写（yes|no）
        write list =                                                                    # 可写用户或组列表
        create mask = 0744                                                      # 客户端上传文件的默认权限
        directory mask = 0755                                       # 客户端创建目录的默认权限
        valid users =                                                                   # 白名单
        invalid users =                                                             # 黑名单
        inherit acls = Yes                                                      # 继承访问控制列表（yes|no）
        guest ok = no                                                           # 是否允许匿名访问，仅当全局设置security=share时有效（yes|no）
        available = yes                                                             # 是否启用该共享(yes|no)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;假设每个Samba目录都对自己部门的共享目录可读可写，所有的Samba用户都对share目录可读可写&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# cat smb.conf

[global]
    workgroup = SAMBA
    security = user
    passdb backend = tdbsam
    printing = cups
    printcap name = cups
    load printers = yes
    cups options = raw

[homes]
    comment = Home Directories
    valid users = %S, %D%w%S
    browseable = No
    read only = No
    inherit acls = Yes
    available = no                              # 关闭用户家目录共享

[printers]
    comment = All Printers
    path = /var/tmp
    printable = Yes
    create mask = 0600
    browseable = No

[print$]
    comment = Printer Drivers
    path = /var/lib/samba/drivers
    write list = root
    create mask = 0664
    directory mask = 0775

[design]
    comment = design share
    path = /filesrv/design
    write list = @design                

[develop]
    comment = develop share
    path = /filesrv/develop
    write list = @develop

[ops]
    comment = ops share
    path = /filesrv/ops
    write list = @ops

[share]
    comment = public share
    path = /filesrv/share
    write list = @design @develop @ops
    create mask = 0775         # 创建文件的用户和所属组拥有可读写执行权限，其它用户可读可执行
    directory mask = 0775      # 创建目录的用户和所属组拥有可读写执行权限，其它用户可读可执行
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;7-修改共享目录权限:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;7. 修改共享目录权限&lt;/h3&gt;

&lt;p&gt;除了要在Samba主配置文件中定义权限外，还需要为系统目录设置正确的权限&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# chmod 1770 /filesrv/{design,develop,ops,share}
# chmod 1777 /filesrv/share -R
# chown :design /filesrv/design
# chown :develop /filesrv/develop
# chown :ops /filesrv/ops
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;8-重启samba服务:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;8. 重启Samba服务&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;# systemctl restart smb.service
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;9-访问samba共享:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;9. 访问Samba共享&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Windows客户端访问:&lt;code&gt;\\Samba-server-ip&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170223_01_09_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;使用用户ops1验证，可见四个共享目录，但只有ops和share可访问&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170223_01_09_03.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;无权限访问design和develop目录&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170223_01_09_02.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Linux客户端访问&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;查看Samba主机上的共享信息&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# smbclient -L \\192.168.80.102
Enter root&#39;s password:          # 仅查看共享信息不需要密码，此处直接回车，以匿名用户查看
Anonymous login successful
Domain=[SAMBA] OS=[Windows 6.1] Server=[Samba 4.4.4]

    Sharename       Type      Comment
    ---------       ----      -------
    print$          Disk      Printer Drivers
    design          Disk      design share
    develop         Disk      develop share
    ops             Disk      ops share
    share           Disk      public share
    IPC$            IPC       IPC Service (Samba 4.4.4)
Anonymous login successful
Domain=[SAMBA] OS=[Windows 6.1] Server=[Samba 4.4.4]

    Server               Comment
    ---------            -------
    LOCALHOST            Samba 4.4.4

    Workgroup            Master
    ---------            -------
    SAMBA                LOCALHOST
    WORKGROUP            IMKINDU-PC
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;访问Samba共享目录&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# smbclient -U develop2 //192.168.80.102/develop
Enter develop2&#39;s password:
Domain=[SAMBA] OS=[Windows 6.1] Server=[Samba 4.4.4]
smb: \&amp;gt;
smb: \&amp;gt; ls
  .                                   D        0  Sat Feb 25 05:54:45 2017
  ..                                  D        0  Fri Feb 24 18:36:11 2017
  test                                D        0  Sat Feb 25 05:44:55 2017
  test1.txt                           N        0  Sat Feb 25 05:54:40 2017
  test2.md                            N        0  Sat Feb 25 05:54:40 2017
  test3                               D        0  Sat Feb 25 05:54:45 2017

        39294212 blocks of size 1024. 38295904 blocks available
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h3 id=&#34;常见问题fqa:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;常见问题FQA&lt;/h3&gt;

&lt;h4 id=&#34;1-安装了samba-client-但使用-smbclient-命令时如下报错:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;1. 安装了samba-client，但使用&lt;code&gt;smbclient&lt;/code&gt;命令时如下报错：&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# smbclient -L \\192.168.80.102
smbclient: relocation error: /lib64/libsamba-credentials.so.0: symbol GSS_KRB5_CRED_NO_CI_FLAGS_X, version gssapi_krb5_2_MIT not defined in file libgssapi_krb5.so.2 with link time reference       # 缺失samba软件
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解决方法：安装samba软件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# yum install -y samba
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-查看samba主机共享信息时-有报错:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;2. 查看Samba主机共享信息时，有报错：&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# smbclient -L \\192.168.80.102
Enter root&#39;s password:
session setup failed: NT_STATUS_LOGON_FAILURE     # 登陆失败，一般为账户或密码错误
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解决方法：仅查看共享信息不需要密码，此处直接回车，以匿名用户查看&lt;/p&gt;

&lt;h4 id=&#34;3-访问samba共享目录时-有报错:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;3. 访问Samba共享目录时，有报错&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# smbclient -U develop2 //192.168.80.102
\\192.168.80.102: Not enough &#39;\&#39; characters in service    # 共享路径输入有误，一般使用//ip格式访问时会报错
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解决：按照正确的格式输入共享路径 &lt;code&gt;//Samba-server-ip/share-name&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&#34;4-访问samba共享目录时-有报错:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;4. 访问Samba共享目录时，有报错：&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# smbclient -U develop2 //192.168.80.102/filesrv
Enter develop2&#39;s password:
Domain=[SAMBA] OS=[Windows 6.1] Server=[Samba 4.4.4]
tree connect failed: NT_STATUS_BAD_NETWORK_NAME    # 输入性错误，一般为输入了错误的共享名称
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解决方法：检查并修正共享名称，比如本案中虽然各部门共享目录存放在filesrv目录中，但Samba配置文件中并未将filesrv设置为共享目录&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# smbclient -U develop2 //192.168.80.102/develop
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;5-访问共享目录时-有报错:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;5. 访问共享目录时，有报错：&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# smbclient -U develop2 //192.168.80.102/develop
Enter develop2&#39;s password:
Connection to 192.168.80.102 failed (Error NT_STATUS_HOST_UNREACHABLE)      # 无法连接Samba服务器，一般为网络故障或防火墙策略造成
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解决方法：排除网络连接问题，调整防火墙策略，或关闭防火墙&lt;/p&gt;

&lt;h4 id=&#34;6-访问共享目录是-有报错:7f3b8ed4e97f874da5c624bfbeb106fd&#34;&gt;6. 访问共享目录是，有报错：&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;# smbclient -U develop2 //192.168.80.102/ops
Enter develop2&#39;s password:
Domain=[SAMBA] OS=[Windows 6.1] Server=[Samba 4.4.4]
smb: \&amp;gt;
smb: \&amp;gt; ls
NT_STATUS_ACCESS_DENIED listing \*     # 访问被拒绝，权限不足
smb: \&amp;gt; mkdir test
NT_STATUS_MEDIA_WRITE_PROTECTED making remote directory \test  # 写保护，权限不足
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解决方法： 检查Samba目录的共享权限，或服务器文件系统的访问权限，是否不允许客户端或用户访问&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;参考文档&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;《Linux运维之道（第二版）》 - Samba文件共享 P176~189&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Ubuntu使用一键安装包安装禅道开源版</title>
      <link>http://linux.mingguilu.com/2017/02/18/ubuntu%E4%BD%BF%E7%94%A8%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E5%8C%85%E5%AE%89%E8%A3%85%E7%A6%85%E9%81%93%E5%BC%80%E6%BA%90%E7%89%88</link>
      <pubDate>Sat, 18 Feb 2017 14:17:37 +0800</pubDate>
      
      <guid>http://linux.mingguilu.com/2017/02/18/ubuntu%E4%BD%BF%E7%94%A8%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E5%8C%85%E5%AE%89%E8%A3%85%E7%A6%85%E9%81%93%E5%BC%80%E6%BA%90%E7%89%88</guid>
      <description>

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;相比&lt;a href=&#34;http://linux.mingguilu.com/2017/02/16/ubuntu%E4%BD%BF%E7%94%A8apt%E6%90%AD%E5%BB%BAlamp/&#34;&gt;搭建LAMP环境&lt;/a&gt;&lt;a href=&#34;http://linux.mingguilu.com/2017/02/17/ubuntu%E4%BD%BF%E7%94%A8%E6%BA%90%E7%A0%81%E5%8C%85%E5%AE%89%E8%A3%85%E7%A6%85%E9%81%93%E5%BC%80%E6%BA%90%E7%89%88/&#34;&gt;使用源码包安装禅道&lt;/a&gt;，使用Linux一键安装包则简单很多&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;1-下载并安装-linux-64位一键安装包-http-www-zentao-net-download-80025-html:bc60e6351e871c8f3736c4ed6613e491&#34;&gt;1. 下载并安装&lt;a href=&#34;http://www.zentao.net/download/80025.html&#34;&gt;Linux 64位一键安装包&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;下载&lt;a href=&#34;http://dl.cnezsoft.com/zentao/9.0.1/ZenTaoPMS.9.0.1.zbox_64.tar.gz&#34;&gt;禅道9.0.1版本Linux 64位一键安装包&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ wget http://dl.cnezsoft.com/zentao/9.0.1/ZenTaoPMS.9.0.1.zbox_64.tar.gz
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;直接将安装包解压缩到/opt目录下，即安装完成&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo tar -zxvf ZenTaoPMS.9.0.1.zbox_64.tar.gz -C /opt/
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;2-使用zbox命令管理apache和ｍysql服务:bc60e6351e871c8f3736c4ed6613e491&#34;&gt;2. 使用zbox命令管理Apache和Ｍysql服务&lt;/h3&gt;

&lt;p&gt;获取zbox命令的帮助&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo /opt/zbox/zbox -h
Usage: zbox.php {start|stop|restart|status}

Options:
    -h --help Show help.
    -ap --aport Apache port, default 80　　# 修改Apache服务端口号
    -mp --mport Mysql port, default 3306　# 修改Mysql服务端口号
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;开启Apache和Ｍysql服务&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo /opt/zbox/zbox start 
Start Apache success
Start Mysql success
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;重启Apache和Ｍysql服务&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo /opt/zbox/zbox restart
Retart Apache success
Retart Mysql success
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;停止Apache和Ｍysql服务&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo /opt/zbox/zbox stop
Stop Apache success
Stop Mysql success
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看Apache和Ｍysql服务状态&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo /opt/zbox/zbox status
Apache is not running
Mysql is not running
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;开启Apache和Ｍysql服务后，在浏览器访问禅道管理系统&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://server-ip
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170218_01_02_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;进入“开源版”登录界面，默认帐号：admin，密码：123456&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170218_01_02_02.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;登录成功&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170218_01_02_03.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;3-访问数据库:bc60e6351e871c8f3736c4ed6613e491&#34;&gt;3. 访问数据库&lt;/h3&gt;

&lt;h4 id=&#34;网页登录数据库:bc60e6351e871c8f3736c4ed6613e491&#34;&gt;网页登录数据库&lt;/h4&gt;

&lt;p&gt;数据库管理用的是adminer，为了安全，访问adminer的时候需要身份验证，需要运行/opt/zbox/auth/adduser.sh来添加用户&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;在普通用户下&lt;/p&gt;

&lt;p&gt;$ sudo ./adduser.sh&lt;br /&gt;
This tool is used to add user to access adminer&lt;br /&gt;
Account: adminer1  passwd123!　　# 设置用户名和密码&lt;br /&gt;
./adduser.sh: 3: read: Illegal option -s&lt;br /&gt;
Adding password for user adminer1&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;在root用户下&lt;/p&gt;

&lt;p&gt;＃ cd /opt/zbox/auth/&lt;br /&gt;
＃ ./adduser.sh&lt;br /&gt;
This tool is used to add user to access adminer&lt;br /&gt;
Account: adminer2　　＃ 设置用户名&lt;br /&gt;
Password: 　　　　　＃ 设置密码(隐式)&lt;br /&gt;
Adding password for user adminer2&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;在访问禅道管理系统时，点击右下角的“数据库管理”&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170218_01_03_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;adminer身份验证&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170218_01_03_02.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;验证通过进入数据web管理台&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170218_01_03_03.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;命令行连接数据库:bc60e6351e871c8f3736c4ed6613e491&#34;&gt;命令行连接数据库&lt;/h4&gt;

&lt;p&gt;登录数据库，默认帐号:root，密码为空&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/opt/zbox/bin/mysql -u root -P mysql端口 -p 

$ /opt/zbox/bin/mysql -uroot -p　　# 使用默认的3306端口，可省略`-P`参数
Enter password: 　　　# 密码为空
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 58
Server version: 5.5.45 Source distribution

Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.

mysql&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&#34;常见问题fqa:bc60e6351e871c8f3736c4ed6613e491&#34;&gt;常见问题FQA&lt;/h3&gt;

&lt;h4 id=&#34;1-如果服务器上已经搭建了lamp环境-80端口和3306端口被占用了-无法启动:bc60e6351e871c8f3736c4ed6613e491&#34;&gt;1.  如果服务器上已经搭建了LAMP环境，80端口和3306端口被占用了，无法启动&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo /opt/zbox/zbox start
(98)Address already in use: AH00073: make_sock: unable to listen for connections on address 0.0.0.0:80
no listening sockets available, shutting down
AH00015: Unable to open logs
Start Apache fail. You can see the log /opt/zbox/logs/apache_error.log
Start Mysql fail. You can see the log /opt/zbox/logs/mysql_error.log
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解决方法：&lt;/p&gt;

&lt;p&gt;修改Apache端口&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo /opt/zbox/zbox -ap 8080
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;修改Mysql端口&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo /opt/zbox/zbox -mp 3308
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;在浏览器访问禅道管理系统时指定端口号&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;http://server-ip:8080
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;em&gt;参考文档&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.zentao.net/book/zentaopmshelp/90.html&#34;&gt;linux用一键安装包&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Ubuntu使用源码包安装禅道开源版</title>
      <link>http://linux.mingguilu.com/2017/02/17/ubuntu%E4%BD%BF%E7%94%A8%E6%BA%90%E7%A0%81%E5%8C%85%E5%AE%89%E8%A3%85%E7%A6%85%E9%81%93%E5%BC%80%E6%BA%90%E7%89%88</link>
      <pubDate>Fri, 17 Feb 2017 22:48:12 +0800</pubDate>
      
      <guid>http://linux.mingguilu.com/2017/02/17/ubuntu%E4%BD%BF%E7%94%A8%E6%BA%90%E7%A0%81%E5%8C%85%E5%AE%89%E8%A3%85%E7%A6%85%E9%81%93%E5%BC%80%E6%BA%90%E7%89%88</guid>
      <description>

&lt;h3 id=&#34;1-搭建lamp环境:77831f7a9680d8377ea1d87039e03612&#34;&gt;1. 搭建LAMP环境&lt;/h3&gt;

&lt;p&gt;上一篇文档，已经&lt;a href=&#34;http://linux.mingguilu.com/2017/02/16/ubuntu%E4%BD%BF%E7%94%A8apt%E6%90%AD%E5%BB%BAlamp/&#34;&gt;在Ubuntu server 16.04 上使用apt搭建了LAMP环境&lt;/a&gt;，本文在此基础上使用源码包安装&lt;a href=&#34;http://www.zentao.net/download/80025.html&#34;&gt;禅道9.0.1开源版&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;２-下载并解压-禅道源码包-http-dl-cnezsoft-com-zentao-9-0-1-zentaopms-9-0-1-zip:77831f7a9680d8377ea1d87039e03612&#34;&gt;２. 下载并解压&lt;a href=&#34;http://dl.cnezsoft.com/zentao/9.0.1/ZenTaoPMS.9.0.1.zip&#34;&gt;禅道源码包&lt;/a&gt;&lt;/h3&gt;

&lt;h4 id=&#34;安装zip-unzip软件:77831f7a9680d8377ea1d87039e03612&#34;&gt;安装zip、unzip软件&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt install -y zip unzip
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;####　下载禅道9.0.1开源版源码包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;wget http://dl.cnezsoft.com/zentao/9.0.1/ZenTaoPMS.9.0.1.zip
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;解压缩源码包:77831f7a9680d8377ea1d87039e03612&#34;&gt;解压缩源码包&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;unzip ZenTaoPMS.9.0.1.zip
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;将解压后的源码目录拷贝到apache网站根目录:77831f7a9680d8377ea1d87039e03612&#34;&gt;将解压后的源码目录拷贝到apache网站根目录&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo cp -rvf zentaopms/ /var/www/html/

$ ls /var/www/html/zentaopms/
bin  config  db  doc  framework  lib  module  tmp  VERSION  www
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;３-安装禅道:77831f7a9680d8377ea1d87039e03612&#34;&gt;３. 安装禅道&lt;/h3&gt;

&lt;h4 id=&#34;在浏览器访问-http-server-ip-zentaopms-www-index-php-进入安装页面:77831f7a9680d8377ea1d87039e03612&#34;&gt;在浏览器访问 &lt;a href=&#34;http://server-ip/zentaopms/www/index.php，进入安装页面&#34;&gt;http://server-ip/zentaopms/www/index.php，进入安装页面&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_03_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;点击-开始安装-阅读并同意授权协议:77831f7a9680d8377ea1d87039e03612&#34;&gt;点击“开始安装”，阅读并同意授权协议&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_03_02.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;系统检查-两项未通过:77831f7a9680d8377ea1d87039e03612&#34;&gt;系统检查，两项未通过&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_03_03.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;根据图提示修复临时文件目录和上传文件目录的权限:77831f7a9680d8377ea1d87039e03612&#34;&gt;根据图提示修复临时文件目录和上传文件目录的权限&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;chmod o=rwx -R /var/www/html/zentaopms/tmp/

chmod o=rwx -R /var/www/html/zentaopms/www/data
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;刷新系统检查-全部通过:77831f7a9680d8377ea1d87039e03612&#34;&gt;刷新系统检查，全部通过&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_03_04.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;输入数据库root密码-生成配置文件:77831f7a9680d8377ea1d87039e03612&#34;&gt;输入数据库root密码，生成配置文件&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_03_05.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;保存配置文件:77831f7a9680d8377ea1d87039e03612&#34;&gt;保存配置文件&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_03_06.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;根据提示拷贝文本框中的配置内容，保存到&amp;rdquo; /var/www/html/zentaopms/config/my.php &amp;ldquo;中&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ sudo vim /var/www/html/zentaopms/config/my.php

$ cat /var/www/html/zentaopms/config/my.php
&amp;lt;?php
$config-&amp;gt;installed       = true;
$config-&amp;gt;debug           = false;
$config-&amp;gt;requestType     = &#39;GET&#39;;
$config-&amp;gt;db-&amp;gt;host        = &#39;127.0.0.1&#39;;
$config-&amp;gt;db-&amp;gt;port        = &#39;3306&#39;;
$config-&amp;gt;db-&amp;gt;name        = &#39;zentao&#39;;
$config-&amp;gt;db-&amp;gt;user        = &#39;root&#39;;
$config-&amp;gt;db-&amp;gt;password    = &#39;passwd123!&#39;;
$config-&amp;gt;db-&amp;gt;prefix      = &#39;zt_&#39;;
$config-&amp;gt;webRoot         = getWebRoot();
$config-&amp;gt;default-&amp;gt;lang   = &#39;zh-cn&#39;;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;设置帐号:77831f7a9680d8377ea1d87039e03612&#34;&gt;设置帐号&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_03_07.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;安装成功:77831f7a9680d8377ea1d87039e03612&#34;&gt;安装成功&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_03_08.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;正式登录禅道管理系统之前-为了安全起见-必须删除install-php和upgrade-php:77831f7a9680d8377ea1d87039e03612&#34;&gt;正式登录禅道管理系统之前，为了安全起见，必须删除install.php和upgrade.php&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_03_09.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ pwd
/var/www/html/zentaopms/www/

$ sudo rm -rvf install.php upgrade.php
已删除&#39;install.php&#39;
已删除&#39;upgrade.php&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;登录禅道管理系统:77831f7a9680d8377ea1d87039e03612&#34;&gt;登录禅道管理系统&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_03_10.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;登录成功:77831f7a9680d8377ea1d87039e03612&#34;&gt;登录成功&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_03_11.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&#34;常见问题fqa:77831f7a9680d8377ea1d87039e03612&#34;&gt;常见问题FQA&lt;/h3&gt;

&lt;h4 id=&#34;１-在-生成配置文件-时-出现如下报错:77831f7a9680d8377ea1d87039e03612&#34;&gt;１.  在“生成配置文件”时，出现如下报错：&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170217_01_FQA_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;解决方法：&lt;/p&gt;

&lt;p&gt;可能是由于禁止了MySql或ＭriaDB的root用户远程登录，需要允许root用户远程登录&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;改表法：更改“mysql”数据库里的“user”表里的“host”项，从“localhost”改为“%”，并刷新权限，让修改生效&lt;/p&gt;

&lt;p&gt;$ mysql -uroot -p&lt;/p&gt;

&lt;p&gt;MariaDB [(none)]&amp;gt; use mysql;&lt;br /&gt;
Reading table information for completion of table and column names&lt;br /&gt;
You can turn off this feature to get a quicker startup with -A&lt;br /&gt;
Database changed&lt;br /&gt;
&lt;br /&gt;
MariaDB [mysql]&amp;gt; select user,host from user;&lt;br /&gt;
+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;+&lt;br /&gt;
| user       | host      |&lt;br /&gt;
+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;+&lt;br /&gt;
| phpmyadmin | localhost |&lt;br /&gt;
| root       | localhost |&lt;br /&gt;
+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;+&lt;br /&gt;
2 rows in set (0.00 sec)&lt;br /&gt;
&lt;br /&gt;
MariaDB [mysql]&amp;gt; update user set host = &amp;lsquo;%&amp;rsquo; where user = &amp;lsquo;root&amp;rsquo; and host = &amp;lsquo;localhost&amp;rsquo;;&lt;br /&gt;
＃更改“mysql”数据库里的“user”表里的“host”项，从“localhost”改为“%”
　
Query OK, 1 row affected (0.00 sec)&lt;br /&gt;
Rows matched: 1  Changed: 1  Warnings: 0&lt;br /&gt;
&lt;br /&gt;
MariaDB [mysql]&amp;gt; flush privileges;      　
＃ 刷新权限，让修改生效&lt;br /&gt;
Query OK, 0 rows affected (0.00 sec)&lt;br /&gt;
&lt;br /&gt;
MariaDB [mysql]&amp;gt; select user,host from user;&lt;br /&gt;
+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;+&lt;br /&gt;
| user       | host      |&lt;br /&gt;
+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;+&lt;br /&gt;
| root       | %         |&lt;br /&gt;
| phpmyadmin | localhost |&lt;br /&gt;
+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;+&lt;br /&gt;
2 rows in set (0.00 sec)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&#34;2-保存配置文件-后-安装页面变成空白-无法设置帐号:77831f7a9680d8377ea1d87039e03612&#34;&gt;2.  “保存配置文件”后，安装页面变成空白，无法设置帐号&lt;/h4&gt;

&lt;p&gt;解决方法：&lt;/p&gt;

&lt;p&gt;可能是将配置内容保存到了/var/www/html/zentaopms/config/config.php，且保存时，没有去掉第一行&lt;code&gt;&amp;lt;?php&lt;/code&gt;，导致配置文件出错。注意查看config.php文件第一行，就是&lt;code&gt;&amp;lt;?php&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;默认情况下/var/www/html/zentaopms/config/my.php是不存在的，可以先&lt;code&gt;sudo touch my.php&lt;/code&gt;或直接&lt;code&gt;sudo vim my.php&lt;/code&gt;，再将配置内容保存进去。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;参考文档&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.zentao.net/book/zentaopmshelp/101.html&#34;&gt;使用源码包安装(各系统通用)禅道&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Ubuntu使用apt搭建LAMP</title>
      <link>http://linux.mingguilu.com/2017/02/16/ubuntu%E4%BD%BF%E7%94%A8apt%E6%90%AD%E5%BB%BAlamp</link>
      <pubDate>Thu, 16 Feb 2017 09:52:59 +0800</pubDate>
      
      <guid>http://linux.mingguilu.com/2017/02/16/ubuntu%E4%BD%BF%E7%94%A8apt%E6%90%AD%E5%BB%BAlamp</guid>
      <description>

&lt;h3 id=&#34;１-web服务apache2:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;１. Web服务Apache2&lt;/h3&gt;

&lt;h4 id=&#34;安装apache2:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;安装Apache2&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo apt install -y apache2
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;查看apache2版本:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;查看apache2版本&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo apache2  -v
Server version: Apache/2.4.18 (Ubuntu)
Server built:   2016-07-14T12:32:26
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;启动apache2-service:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;启动apache2.service&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo systemctl start apache2.service
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;停止apache2-service:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;停止apache2.service&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo systemctl stop apache2.service
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;查看apache2-service状态:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;查看apache2.service状态&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo systemctl status apache2.service
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;在浏览器测试访问:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;在浏览器测试访问&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;http://server-ip
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170216_01_01_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;2-数据库服务mariadb:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;2. 数据库服务MariaDB&lt;/h3&gt;

&lt;h4 id=&#34;安装mariadb:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;安装MariaDB&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo apt install -y mariadb-server mariadb-client
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;设置mariadb-root用户密码:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;设置MariaDB root用户密码&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo mysql_secure_installation

Enter current password for root (enter for none):
＃ 输入当前的root密码：没有就直接回车
Set root password? [Y/n] y
＃是否设置密码：是
New password:
＃设置密码
Re-enter new password:
＃再次确认密码
Remove anonymous users? [Y/n] y
＃ 是否移除匿名用户：是
Disallow root login remotely? [Y/n] y
＃ 禁止root用户远程登录：是
Remove test database and access to it? [Y/n] y
＃ 是否删除默认创建的test数据库，并清除所有对test数据的权限设置：是
Reload privilege tables now? [Y/n] y
＃ 是否重新加载权限表：是

All done!  If you&#39;ve completed all of the above steps, your MariaDB
installation should now be secure.

Thanks for using MariaDB!
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;测试登录mariadb:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;测试登录MariaDB&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo mysql -uroot -p  或  $ sudo mysql -u root -p

Enter password:
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 59
Server version: 10.0.29-MariaDB-0ubuntu0.16.04.1 Ubuntu 16.04

Copyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.

Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.

MariaDB [(none)]&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;启动mariadb:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;启动MariaDB&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo systemctl start mysql-service
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;停止mariadb:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;停止MariaDB&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo systemctl stop mysql-service
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;查看mariadb:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;查看MariaDB&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo systemctl status mysql.service
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;3-脚本语言php:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;3. 脚本语言PHP&lt;/h3&gt;

&lt;h4 id=&#34;安装php7:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;安装PHP7&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo apt install -y php7.0 php7.0-mysql php7.0-curl php7.0-json php7.0-cgi libapache2-mod-php7.0
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;查看php版本:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;查看php版本&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo php -v

PHP 7.0.13-0ubuntu0.16.04.1 (cli) ( NTS )
Copyright (c) 1997-2016 The PHP Group
Zend Engine v3.0.0, Copyright (c) 1998-2016 Zend Technologies
    with Zend OPcache v7.0.13-0ubuntu0.16.04.1, Copyright (c) 1999-2016, by Zend Technologies
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;创建php探针:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;创建php探针&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo vim /var/www/html/test.php

$ sudo cat /var/www/html/test.php
&amp;lt;?php
    phpinfo();
?&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;在浏览器测试php探针文件:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;在浏览器测试php探针文件&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;http://server-ip/test.php
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170216_01_03_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;4-phpmyadmin:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;4. phpMyAdmin&lt;/h3&gt;

&lt;h4 id=&#34;安装phpmyadmin:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;安装phpMyAdmin&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;$ sudo apt install -y phpmyadmin
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;选择运行phpMyAdmin的web服务&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170216_01_04_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;确认配置phpMyAdmin管理的数据库&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170216_01_04_02.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;设置phpMyAdmin的密码&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170216_01_04_03.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;在浏览器测试访问phpmyadmin:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;在浏览器测试访问phpMyAdmin&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;http://server-ip/phpmyadmin
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170216_01_04_04.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;登录phpmyadmin:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;登录phpMyAdmin&lt;/h4&gt;

&lt;p&gt;用户名：phpmyadmin&lt;/p&gt;

&lt;p&gt;密码：（上面安装时设置的phpmyadmin的密码）&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170216_01_04_05.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;登录成功，进入phpMyAdmin的web界面&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170216_01_04_06.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&#34;注意-如果使用root用户和密码登录phpmyadmin-则会报错:69138c1247bdb4999cb89f7ded85f8bd&#34;&gt;注意：如果使用root用户和密码登录phpMyAdmin,则会报错：&lt;/h4&gt;

&lt;p&gt;&lt;strong&gt;待解决&lt;/strong&gt;：为什么root无法登录？因为禁止了root用户远程登录数据库？该怎么处理？&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/170216_01_04_07.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;至此，已成功在Ubuntu 16.04 LTS上搭建LAMP。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;参考链接&lt;/em&gt;&lt;br /&gt;
&lt;a href=&#34;https://linux.cn/article-7463-1.html&#34;&gt;在 Ubuntu Server 16.04 LTS 上安装 LAMP&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Linux软件安装与维护</title>
      <link>http://linux.mingguilu.com/2016/12/30/linux%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E4%B8%8E%E7%BB%B4%E6%8A%A4</link>
      <pubDate>Fri, 30 Dec 2016 09:09:19 +0800</pubDate>
      
      <guid>http://linux.mingguilu.com/2016/12/30/linux%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E4%B8%8E%E7%BB%B4%E6%8A%A4</guid>
      <description>

&lt;h3 id=&#34;1-使用软件源码包:9667daa69c84529bfb2ccc8da43c9833&#34;&gt;1. 使用软件源码包&lt;/h3&gt;

&lt;h3 id=&#34;2-debian-ubuntu:9667daa69c84529bfb2ccc8da43c9833&#34;&gt;2. Debian/Ubuntu&lt;/h3&gt;

&lt;p&gt;Debian系Linux发行版的软件包格式为deb&lt;/p&gt;

&lt;h4 id=&#34;2-1-dpkg:9667daa69c84529bfb2ccc8da43c9833&#34;&gt;2.1 dpkg&lt;/h4&gt;

&lt;p&gt;dpkg的是基于Debian系统的一个低级包管理器。它可以安装，删除，提供有关资料，以及建立*.deb包，但它不能自动下载并安装它们相应的依赖包。&lt;/p&gt;

&lt;p&gt;查看帮助&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg --help
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看指定软件包的信息&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg -I 下载/Software/vivaldi-stable_1.6.689.46-1_amd64.deb

#以Vivaldi浏览器deb安装包为例
##必须使用软件包的完整名称
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;列出指定软件包里的文件目录&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg -c 下载/Software/vivaldi-stable_1.6.689.46-1_amd64.deb

#必须使用软件包的完整名称
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装deb软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg -i vivaldi-stable_1.6.689.46-1_amd64.deb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;列出所有已安装的软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg -l
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查询是否已安装指定软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg -l vivaldi-stable

#即可看到软件名称、版本、架构、描述信息
#注意软件名称必须正确，比如查询“vivaldi”就会提示“dpkg-query: 没有找到与 vivaldi 相匹配的软件包”
#当不能确认完整的软件包名称，可以再输入“vivaldi”后，按“Tab”键，会列出所有相关包名称
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看已安装的软件包的详细信息&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg -s vivaldi-stable

#同上，必须指定软件名称“vivaldi-stable”，而不能用原始的软件包名称“vivaldi-stable_1.6.689.46-1_amd64.deb”
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;列出指定软件包安装后的所有文件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg -L vivaldi-stable

#同上
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;卸载软件包（保留配置文件）&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg -r vivaldi-stable

#同上，必须指定软件名称“vivaldi-stable”，而不能用原始的软件包名称“vivaldi-stable_1.6.689.46-1_amd64.deb”
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;卸载软件包（删除配置文件）&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg -p vivaldi-stable

#有些软件包卸载后还会遗留一些配置文件，使用`-p`就像在windows上卸载软件时勾选上“同时清除用户配置文件”
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装指定目录及其子目录下所有的“.deb”包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg -R --install debpackages/

# -R 参数表示递归，指定目录和子目录下所有的.deb包都将被安装
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;释放软件包，但不配置&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg --unpack vivaldi-stable_1.6.689.46-1_amd64.deb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;重新配置软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg --configure
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;替换软件包信息&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg --update-avail
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;清除包的当前可用信息&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg --clear-avail
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;丢弃所有不能安装和不可用软件包的信息&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg --forget-old-unavail
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;显示版本&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg --version
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-2-apt-cache-apt-get:9667daa69c84529bfb2ccc8da43c9833&#34;&gt;2.2 apt-cache、apt-get&lt;/h4&gt;

&lt;h5 id=&#34;2-2-1-apt-cache:9667daa69c84529bfb2ccc8da43c9833&#34;&gt;2.2.1 apt-cache&lt;/h5&gt;

&lt;p&gt;apt-cache是Linux下的apt软件包管理工具，使用它能查询到apt的二进制软件包缓存文件,结合一些参数使用能查寻到软件包信息和软件包依赖关系等&lt;/p&gt;

&lt;p&gt;列出所有软件包的名称&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt-cache pkgnames
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;列出所有以指定字符开头的软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt-cache pkgnames apache2

#以“apache2”为例
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;列出包含指定关键字的软件包和简介&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt-cache search apache2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;以便于阅读的格式介绍该软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt-cache show apache2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查询软件包的依赖关系&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt-cache showpkg apache2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;统计全部软件包的信息&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt-cache stats
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;2-2-2-apt-get:9667daa69c84529bfb2ccc8da43c9833&#34;&gt;2.2.2 apt-get&lt;/h5&gt;

&lt;p&gt;apt-get是Debian及其衍生版的高级包管理器，并提供命令行方式来从多个来源检索和安装软件包，其中包括解决依赖性。和dpkg不同的是，apt-get不是直接基于.deb文件工作，而是基于软件包的正确名称。&lt;/p&gt;

&lt;p&gt;更新软件源（/etc/apt/source.list）&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get update
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;升级已安装的所有软件包（不管依赖性，不添加包，也不删除包）&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get upgrade
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;升级已安装的所有软件包（根据依赖关系的变化，添加包或删除包）&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get dist-upgrade
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装指定的软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install apache2

#以“apache2”为例
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装多个软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install apache2 mysql-server php5

#同时安装“apache2”、&amp;quot;mysql-server&amp;quot;、&amp;quot;php5&amp;quot;，并解决依赖性
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装包含指定字符串的软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install &#39;*name*&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装软件包但不升级&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install packageName --no-upgrade
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装指定名称和版本的软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install apache2=2.4.18-2ubuntu3.1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;卸载软件包但不清除配置文件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get remove apache2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;卸载软件包同时清除配置文件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get purge apaceh2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;或者&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get remove --purge apache2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;清理本地软件仓库&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get clean
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;仅下载指定软件源码包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get --download-only source apache2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;下载指定软件包并解包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get source apache2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;同时下载、解包并编译软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get --compile source apache2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;仅下载不安装软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get download apache2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看软件包版本变更日志&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get changelog apache2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;检查是否有损坏的依赖关系&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get check
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;建立指定软件包的编译环境&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get build-dep apache2

#为手工编译软件apache2,提前把编译过程中需要用的软件包先安装配置好
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;将已经删除了的软件包的.deb安装文件从硬盘中删除掉&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get autoclean
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;将已经安装了的所有软件包的.deb包从硬盘中删除掉&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get clean
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;删除为了满足其他软件包的依赖而安装的，但现在不再需要的软件包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get autoremove apache2
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>打造Ubuntu桌面</title>
      <link>http://linux.mingguilu.com/2016/12/15/%E6%89%93%E9%80%A0ubuntu%E6%A1%8C%E9%9D%A2</link>
      <pubDate>Thu, 15 Dec 2016 13:53:45 +0800</pubDate>
      
      <guid>http://linux.mingguilu.com/2016/12/15/%E6%89%93%E9%80%A0ubuntu%E6%A1%8C%E9%9D%A2</guid>
      <description>

&lt;h3 id=&#34;1-初始配置:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1. 初始配置&lt;/h3&gt;

&lt;h4 id=&#34;1-1-ubuntu-16-04新特性:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.1 Ubuntu 16.04新特性&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;默认禁用dash在线搜索&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;使用GNOME Software代替Ubuntu软件中心&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;自定义Unity所处位置&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;apt命令升级：apt可代替apt-get&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;支持ZFS文件系统&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;软件更新：Linux4.4 LTS、LibreOffice5.1、Python3.5、Docket1.10&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;1-2-设置root密码:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.2 设置root密码&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo passwd root
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;1-3-切换到root用户:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.3 切换到root用户&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;su
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;或&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo -i
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;1-4-自定义unity所处位置:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.4 自定义Unity所处位置&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;gsettings set com.canonical.Unity.Launcher launcher-position Bottom|Left
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;1-5-查看ubuntu版本:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.5 查看Ubuntu版本&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;lsb_release -a
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;1-6-查看内核版本:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.6 查看内核版本&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;uname -a
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;1-7-查看硬件驱动:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.7 查看硬件驱动&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;lspci
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;1-8-打开终端快捷键:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.8 打开终端快捷键&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;Ctrl+Alt+T
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;1-9-切换控制台tty1-tt6:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.9 切换控制台tty1-tt6&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;Ctrl+Alt+F1~F6
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;回到桌面&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Ctrl+Alt+F7
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;1-10-网络配置:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.10 网络配置&lt;/h4&gt;

&lt;h5 id=&#34;1-10-1-图形化操作:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.10.1 图形化操作&lt;/h5&gt;

&lt;p&gt;系统设置——&amp;gt;网络——&amp;gt;有线/无线——&amp;gt;选项——&amp;gt;IPv4设置——&amp;gt;自动(DHCP)/手动&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_1_10_1_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h5 id=&#34;1-10-2-终端操作:6983b54e6b04605973a28c88d174a1d6&#34;&gt;1.10.2 终端操作&lt;/h5&gt;

&lt;p&gt;查看网卡配置文件(/etc/network/interfaces)默认配置如下&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cat /etc/network/interfaces
# interfaces(5) file used by ifup(8) and ifdown(8)
auto lo
iface lo inet loopback
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;配置DHCP自动获取，在配置文件末尾添加：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;auto ens33
iface ens33 inet dhcp
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;配置静态IP，在配置文件末尾添加：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;auto ens33
iface ens33 inet static
address 192.168.1.120
netmask 255.255.255.0
gateway 192.168.1.1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;配置DNS地址，修改/etc/resolv.conf文件为：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
# nameserver 127.0.1.1
nameserver 192.168.1.1
nameserver 202.103.24.68
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;但以上配置只是临时的，在重启系统或者重启网卡之后，就不生效了。要永久有效，需要在/etc/resolvconf/resolv.conf.d/base中添加DNS地址&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cat /etc/resolvconf/resolv.conf.d/base
nameserver 192.168.1.1
nameserver 202.103.24.68
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;重启网络&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo service networking restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;或&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo /etc/init.d/networking restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;或&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo systemctl restart networking.service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;但见证奇迹的时刻到了!&lt;/p&gt;

&lt;p&gt;ifconfig查看网卡信息，ip地址依然是DHCP自动获取的192.168.1.114;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ifconfig
ens33     Link encap:以太网  硬件地址 00:0c:29:71:70:f0  
          inet 地址:192.168.1.114  广播:192.168.1.255  掩码:255.255.255.0
          inet6 地址: fe80::b69c:e0ad:fc8c:5ec3/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  跃点数:1
          接收数据包:98507 错误:0 丢弃:0 过载:0 帧数:0
          发送数据包:30429 错误:0 丢弃:0 过载:0 载波:0
          碰撞:0 发送队列长度:1000
          接收字节:99756941 (99.7 MB)  发送字节:3526694 (3.5 MB)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ip add查看网卡信息，ens33出现两个IP地址，192.168.1.114是之前DHCP获取的，192.168.1.120是配置的静态IP，而且网络访问正常&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ip add
2: ens33: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 00:0c:29:71:70:f0 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.114/24 brd 192.168.1.255 scope global dynamic ens33
       valid_lft 86379sec preferred_lft 86379sec
    inet 192.168.1.120/24 brd 192.168.1.255 scope global secondary ens33
       valid_lft forever preferred_lft forever
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;经过各种尝试，找到解决方法：先停止网络服务，在启用网络服务，虽然与重启网络服务原理一样，不过效果却不一样&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo service networking stop
sudo service networking start
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;这个方法同样适用于修改静态ip后，重启网络服务新的IP地址不生效的问题&lt;/p&gt;

&lt;h3 id=&#34;2-常用桌面软件安装:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2. 常用桌面软件安装&lt;/h3&gt;

&lt;h4 id=&#34;2-1-安装vmware-tools-root用户执行:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.1 安装VMware tools (root用户执行)&lt;/h4&gt;

&lt;p&gt;VMware Workstation ——&amp;gt; 虚拟机 ——&amp;gt; 安装VMware Tools
挂载VMware Tools安装光盘&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;su

mount /dev/sr0 /mnt
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;把VMware Tools安装文件拷贝至root主目录&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cp /mnt/VMwareTools-10.0.10-4301679.tar.gz .
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解压缩VMmareTools安装文件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;tar xvf VMwareTools-10.0.10-4301679.tar.gz
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解压完毕后进入vmware-tools-distrib目录&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd vmware-tools-distrib
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;运行vmware-install.pl&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;./vmware-install.pl
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;DO you still want to proceed with this legacy installer?[no]&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;输入 yes ，回车
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;接下来一路回车，直至安装完成。重启系统后，即可自适应窗口、拖放文件等&lt;/p&gt;

&lt;h4 id=&#34;2-2-删除amazon链接:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.2 删除Amazon链接&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get remove unity-webapps-common  
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-3-卸载libreoffice:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.3 卸载Libreoffice&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get remove libreoffice-common
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-4-安装-unity-tweak-tool:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.4 安装 Unity Tweak Tool&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install unity-tweak-tool
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看unity-tweak-tool安装了哪些文件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dpkg -L unity-tweak-tool
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;启动Unity Tweak Tool&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/usr/bin/unity-tweak-tool
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-5-安装-numix-https-www-numixproject-org-主题和图标:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.5 安装&lt;a href=&#34;https://www.numixproject.org/&#34;&gt;Numix&lt;/a&gt;主题和图标&lt;/h4&gt;

&lt;p&gt;添加Numix源&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-add-repository ppa:numix/ppa
sudo apt-get update
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装GTK主题&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install numix-gtk-theme
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装Numix图标&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install numix-icon-theme-circle
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;在Unity-tweak-tool中启用Numix daily主题和Numix-circle图标
&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_2_5_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;2-6-安装指示器:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.6 安装指示器&lt;/h4&gt;

&lt;p&gt;大小写指示灯和触摸板开关&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo add-apt-repository ppa:tsbarnes/indicator-keylock
sudo add-apt-repository ppa:atareao/atareao
sudo apt-get update
sudo apt-get install indicator-keylock
sudo apt-get install touchpad-indicator
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-7-安装系统监测工具syspeek:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.7 安装系统监测工具Syspeek&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_2_7_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo add-apt-repository ppa:nilarimogard/webupd8    
sudo apt-get update    
sudo apt-get install syspeek
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-8-安装经典菜单插件:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.8 安装经典菜单插件&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_2_8_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo add-apt-repository ppa:diesch/testing  
sudo apt-get update  
sudo apt-get install classicmenu-indicator
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-9-安装google-chrome浏览器:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.9 安装Google Chrome浏览器&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install google-chrome-stable
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解决软件包依赖关系&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get -f install
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-10-安装adobe-flash-player:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.10 安装Adobe Flash Player&lt;/h4&gt;

&lt;h5 id=&#34;2-10-1-在firefox中打开-https-get-adobe-com-flashplayer-loc-cn:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.10.1 在Firefox中打开 &lt;a href=&#34;https://get.adobe.com/flashplayer/?loc=cn&#34;&gt;https://get.adobe.com/flashplayer/?loc=cn&lt;/a&gt;&lt;/h5&gt;

&lt;p&gt;已自动识别出：&lt;code&gt;Linux 64-bit, 简体中文, Firefox&lt;/code&gt;，选择版本为&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;.tar.gz 适用于 Linux
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;立即下载，然后提取flash_player_npapi_linux.x86_64.tar.gz&lt;/p&gt;

&lt;p&gt;按照readme.txt方法&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo cp libflashplayer.so /usr/lib/firefox-addons/plugins/ -v
sudo cp -r usr/* /usr
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;2-10-2-在chrome中打开-https-get-adobe-com-cn-flashplayer-otherversions:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.10.2 在Chrome中打开 &lt;a href=&#34;https://get.adobe.com/cn/flashplayer/otherversions/&#34;&gt;https://get.adobe.com/cn/flashplayer/otherversions/&lt;/a&gt;&lt;/h5&gt;

&lt;p&gt;选择操作系统为：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Linux(64-bit)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;选择版本为&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;xxx for Linux 64-bit(.tar.gz)- PPAPI
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;立即下载，然后提取flash_player_ppapi_linux.x86_64.tar.gz&lt;/p&gt;

&lt;p&gt;按照readme.txt方法&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo cp ~/下载/flash_player_ppapi_linux.x86_64/* /usr/lib/adobe-flashplugin/ -rvf
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;如果&lt;code&gt;/usr/lib/adobe-flashplugin&lt;/code&gt;目录不存在，可以自己创建一个再进行上一步，也起作用&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo mkdir /usr/lib/adobe-flashplugin
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-11-配置-老d的google-hosts-https-laod-cn-hosts-2016-google-hosts-html:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.11 配置&lt;a href=&#34;https://laod.cn/hosts/2016-google-hosts.html&#34;&gt;老D的Google Hosts&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;下载老D最新的Google hosts文件，添加以下部分到 &lt;code&gt;/etc/hosts&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Modified hosts start

......

# Modified hosts end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;以root用户编辑 &lt;code&gt;/etc/hosts&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo gedit /etc/hosts
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;重启网络使hosts本地解析生效&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo systemctl restart NetworkManager
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-12-添加ubuntu-kylin的apt源-方便安装常用的桌面软件:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.12 添加Ubuntu Kylin的apt源,方便安装常用的桌面软件&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo vim /etc/apt/sources.list.d/ubuntukylin.list

deb http://archive.ubuntukylin.com:10006/ubuntukylin trusty main

sudo apt-get update
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-13-安装搜狗输入法:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.13 安装搜狗输入法&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install sogoupinyin
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-14-安装-网易云音乐-http-music-163-com:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.14 安装&lt;a href=&#34;http://music.163.com/&#34;&gt;网易云音乐&lt;/a&gt;&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install netease-cloud-music
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;或者，下载 &lt;a href=&#34;http://music.163.com/#/download&#34;&gt;ubuntu16.04 (64位) 版本的云音乐&lt;/a&gt;并安装&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo dpkg -i netease-cloud-music_1.0.0_amd64_ubuntu16.04.deb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解决软件包依赖关系&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo　apt-get -f install
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-15-安装-有道词典-http-cidian-youdao-com-index-linux-html:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.15 安装&lt;a href=&#34;http://cidian.youdao.com/index-linux.html&#34;&gt;有道词典&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_2_15_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;参考：&lt;a href=&#34;http://www.linuxdiyf.com/linux/20622.html&#34;&gt;Ubuntu 16.04安装有道词典&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;下载Ubuntu 64位的deb包：&lt;a href=&#34;http://cidian.youdao.com/index-linux.html&#34;&gt;youdao-dict_1.1.0-0-ubuntu_amd64.deb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;创建youdao-dict目录，把该deb包解压到youdao-dict目录：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo dpkg -X youdao-dict_1.1.0-0-ubuntu_amd64.deb  youdao-dict
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解压deb包中的control信息（包的依赖就写在这个文件里面）：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo dpkg -e youdao-dict_1.1.0-0-ubuntu_amd64.deb youdao-dict/DEBIAN
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;编辑control文件，删除Depends行尾的gstreamer0.10-plugins-ugly。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo gedit youdao-dict/DEBIAN/control
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;重新打包：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo dpkg-deb -b youdao-dict youdaobuild.deb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装重新打包的安装包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo dpkg -i youdaobuild.deb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装完毕即可使用，屏幕取词和滑词翻译均能正常使用，喜大普奔！当切换到其他窗口有道词典会自动最小化到右上角任务栏&lt;/p&gt;

&lt;p&gt;使用apt-get和dpkg安装deb包测试多次都安装失败，原因正是因为:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;未安装软件包 gstreamer0.10-plugins-ugly
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-16-安装-wps-office-http-community-wps-cn-download:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.16 安装&lt;a href=&#34;http://community.wps.cn/download/&#34;&gt;WPS Office&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;下载 wps-office_10.1.0.5672~a21_amd64.deb 并安装&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo dpkg -i wps-office_10.1.0.5672~a21_amd64.deb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;打开wps会提示缺失symbol、wingdings、wingdings 2、wingdings 3、webding、mtextra 6个字体，在Windows上C:\Windows\Fonts搜索拷贝这6个字体到Ubuntu的usr/share/fonts/下即可。&lt;/p&gt;

&lt;p&gt;百度云分享链接: &lt;a href=&#34;http://pan.baidu.com/s/1pL6ONHL&#34;&gt;http://pan.baidu.com/s/1pL6ONHL&lt;/a&gt; 密码: 2stm&lt;/p&gt;

&lt;h4 id=&#34;2-17-安装shadowsocks:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.17 安装Shadowsocks&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo add-apt-repository ppa:hzwhuang/ss-qt5
sudo apt-get update
sudo apt-get install shadowsocks-qt5
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-18-安装irssi:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.18 安装Irssi&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install screen
sudo apt-get install irssi
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-19-安装迅雷的替代者xware-desktop:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.19 安装迅雷的替代者Xware-desktop&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_2_19_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;在百度网盘中下载最新的Xware-desktop：&lt;a href=&#34;http://pan.baidu.com/s/1qWHMlK4&#34;&gt;http://pan.baidu.com/s/1qWHMlK4&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo chmod +x xware-desktop_0.11.20140723_amd64.deb
sudo dpkg -i xware-desktop_0.11.20140723_amd64.deb
sudo apt-get install -f
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-20-安装-vivaldi浏览器-https-vivaldi-com:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.20 安装&lt;a href=&#34;https://vivaldi.com&#34;&gt;Vivaldi浏览器&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_2_20_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;下载&lt;a href=&#34;https://vivaldi.com/download/&#34;&gt;Vivaldi的deb安装包&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo dpkg -i vivaldi-stable_1.6.689.46-1_amd64.deb
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-21-自定义截图快捷键:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.21 自定义截图快捷键&lt;/h4&gt;

&lt;p&gt;系统设置——&amp;gt;键盘——&amp;gt;快捷键——&amp;gt;截图&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_2_21_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;2-22-安装-teamviewer-https-www-teamviewer-com-zhcn:6983b54e6b04605973a28c88d174a1d6&#34;&gt;2.22 安装&lt;a href=&#34;https://www.teamviewer.com/zhcn/&#34;&gt;Teamviewer&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_2_22_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;下载Ubuntu版&lt;a href=&#34;https://www.teamviewer.com/zhcn/download/linux/&#34;&gt;Teamviewer_12.0.71510_i386.deb&lt;/a&gt;,注意必须下载32位的版本&lt;/p&gt;

&lt;p&gt;为64位Ubuntu16.04添加32位架构支持&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo dpkg --add-architecture i386
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装Teamviewer的依赖包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get update

sudo apt-get install libdbus-1-3:i386 libasound2:i386 libexpat1:i386 libfontconfig1:i386 libfreetype6:i386 libjpeg62:i386 libpng12-0:i386 libsm6:i386 libxdamage1:i386 libxext6:i386 libxfixes3:i386 libxinerama1:i386 libxrandr2:i386 libxrender1:i386 libxtst6:i386 zlib1g:i386 libc6:i386
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装Teamviewer12&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo dpkg -i teamviewer_12.0.71510_i386.deb 
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;3-常用工具软件安装:6983b54e6b04605973a28c88d174a1d6&#34;&gt;3. 常用工具软件安装&lt;/h3&gt;

&lt;h4 id=&#34;3-1-安装albert:6983b54e6b04605973a28c88d174a1d6&#34;&gt;3.1 安装Albert&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_3_1_01.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;安装方法参考&lt;a href=&#34;https://github.com/ManuelSchneid3r/albert/wiki&#34;&gt;Albert WIki&lt;/a&gt;的《How to install albert》&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo add-apt-repository ppa:nilarimogard/webupd8
sudo apt-get update
sudo apt-get install albert
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-2-安装vim:6983b54e6b04605973a28c88d174a1d6&#34;&gt;3.2  安装Vim&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install vim
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-3-安装filezilla:6983b54e6b04605973a28c88d174a1d6&#34;&gt;3.3 安装Filezilla&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install filezilla
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-4-安装-git-https-git-scm-com:6983b54e6b04605973a28c88d174a1d6&#34;&gt;3.4 安装&lt;a href=&#34;https://git-scm.com/&#34;&gt;Git&lt;/a&gt;&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install git
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-5-安装-sublime-text-3-www-sublimetext-com:6983b54e6b04605973a28c88d174a1d6&#34;&gt;3.5 安装&lt;a href=&#34;www.sublimetext.com/&#34;&gt;Sublime Text 3&lt;/a&gt;&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo add-apt-repository ppa:webupd8team/sublime-text-3    
sudo apt-get update    
sudo apt-get install sublime-text
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;如果修改&lt;code&gt;Preferences.sublime-settings - User&lt;/code&gt;后提示没有权限保存&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; sudo chmode o+rwx ~/.config/sublime-text-3/ -R
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;关于Sublime Text 3在Ubuntu下无法输入中文的问题，尝试了网上很多方法都没有解决&lt;/p&gt;

&lt;h4 id=&#34;3-6-安装-notepadqq-http-notepadqq-altervista-org-wp-download:6983b54e6b04605973a28c88d174a1d6&#34;&gt;3.6 安装&lt;a href=&#34;http://notepadqq.altervista.org/wp/download/&#34;&gt;Notepadqq&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;Notepadqq功能近似于Windows下的Notepad++&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo add-apt-repository ppa:notepadqq-team/notepadqq
sudo apt-get update
sudo apt-get install notepadqq
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-7-安装-atom-https-atom-io:6983b54e6b04605973a28c88d174a1d6&#34;&gt;3.7 安装&lt;a href=&#34;https://atom.io/&#34;&gt;Atom&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;安装过程因为下载速度奇慢，建议单独开一个Terminal,耐心等待&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo add-apt-repository ppa:webupd8team/atom
sudo apt-get update
sudo apt-get install atom
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-8-安装hugo-由go语言实现的静态网站生成器:6983b54e6b04605973a28c88d174a1d6&#34;&gt;3.8 安装Hugo(由Go语言实现的静态网站生成器)&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install hugo
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-9-安装-vmware-workstation-https-my-vmware-com-cn-web-vmware-login:6983b54e6b04605973a28c88d174a1d6&#34;&gt;3.9 安装&lt;a href=&#34;https://my.vmware.com/cn/web/vmware/login&#34;&gt;VMware Workstation&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;下载&lt;a href=&#34;https://my.vmware.com/cn/group/vmware/details?downloadGroup=WKST-1252-LX&amp;amp;productId=524&amp;amp;rPId=13365&#34;&gt;VMware Workstation Pro for Linux&lt;/a&gt;
安装方法参考官方文档：&lt;a href=&#34;http://pubs.vmware.com/workstation-12/index.jsp#com.vmware.ws.using.doc/GUID-1F5B1F14-A586-4A56-83FA-2E7D8333D5CA.html&#34;&gt;http://pubs.vmware.com/workstation-12/index.jsp#com.vmware.ws.using.doc/GUID-1F5B1F14-A586-4A56-83FA-2E7D8333D5CA.html&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;su root
sh VMware-Workstation-Full-12.5.2-4638234.x86_64.bundle
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;稍等弹出图形化的安装界面，与windows上安装相似，一路下一步至安装完毕。&lt;/p&gt;

&lt;h4 id=&#34;3-10-安装-visual-studio-code-https-code-visualstudio-com:6983b54e6b04605973a28c88d174a1d6&#34;&gt;3.10　安装&lt;a href=&#34;https://code.visualstudio.com/&#34;&gt;Visual Studio Code&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_3_10_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;下载Ubuntu版的.deb包 ：&lt;a href=&#34;https://code.visualstudio.com/docs/?dv=linux64_deb&#34;&gt;code_1.10.1-1488415350_amd64.deb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;安装.deb包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo dpkg -i code_1.10.1-1488415350_amd64.deb
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;4-使用samba与windows共享文件:6983b54e6b04605973a28c88d174a1d6&#34;&gt;4. 使用Samba与Windows共享文件&lt;/h3&gt;

&lt;h4 id=&#34;4-1-搭建samba服务:6983b54e6b04605973a28c88d174a1d6&#34;&gt;4.1 搭建Samba服务&lt;/h4&gt;

&lt;p&gt;安装samba和smbclient&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install samba smbclient
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;创建共享目录&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo mkdir -p /home/share
sudo chmod -R 777 /home/share
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;添加samba用户&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo useradd -s /sbin/nologin share
#创建一个samba用户，不能用于登录系统
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;设置用户密码&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo smbpasswd -a share
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;配置smb配置文件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo cp /etc/samba/smb.conf /etc/samba/smb.conf.bak
sudo vim /etc/samba/smb.conf

[share]
    comment = Shared Folder require password
    path = /home/share
    browseable = yes
    guest ok = yes
    writable = yes
    valid users = share
    create mask = 0777
    directory mask = 0777
    available = yes


#常用选项
#[shared_name]                           # 共享名称
#    comment =                           # 共享描述
#    path =                              # 文件系统路径
#    browseable = {yes|no}               # 是否可以被查看到
#    public = {yes|no}                   # 是否可被所有人读
#    guest ok = {yes|no}                 # 与 public 相同
#    read only = yes                     # 是否只读
#    writeable = yes                     # 是否可写
#    write list = user1, user2           # 可写用户列表
#                @group, +group          # 可写组列表
#    valid users =                       # 白名单
#    invalid users =                     # 黑名单
#    create mask =                       # 默认创建文件的权限
#    directory mask =                    # 默认创建目录的权限
#    available = {yes|no}                # 是否启用该目录共享
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;重启samba服务&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo service smbd restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;或&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo /etc/init.d/smbd restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;或&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo systemctl restart smbd.service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看samba服务的状态&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo smbstatus
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;4-2-在windows上访问ubuntu的共享目录:6983b54e6b04605973a28c88d174a1d6&#34;&gt;4.2 在Windows上访问Ubuntu的共享目录&lt;/h4&gt;

&lt;p&gt;Windows上使用FQDN路径访问，在开始或者资源管理器地址栏输入：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;\\192.168.1.114
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_4_2_01.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Windwos上断开与samba共享目录的链接&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;net use \\192.168.1.114\share /del /y
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;或&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;net use * /del /y
#注意*代表断开所有的共享链接，如果有多个共享链接时，应避免使用*
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_4_2_02.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Windows上映射samba共享目录为网络映射驱动器&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_4_2_03.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;4-3-在ubuntu上访问windows共享目录:6983b54e6b04605973a28c88d174a1d6&#34;&gt;4.3 在Ubuntu上访问Windows共享目录&lt;/h4&gt;

&lt;p&gt;在Ubuntu文件管理器上，点击“连接到服务器”，输入: smb://192.168.1.110 ，点击“连接”&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://linux.mingguilu.com/images/Ubuntu_4_2_04.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;在Ubuntu上使用mount挂载Windows共享目录&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo mount -t cifs -o username=awesomeit //192.168.1.110/d /mnt/share/
#回车之后输入Windows用户“awesomeit”的密码，把Windows上的共享目录”d“挂载到ubuntu的“/mnt/share”（需先创建好）下

#使用mount挂载windows共享目录一定要先安装cifs-utils,否则挂载时会有如下报错：
mount: //192.168.1.110/d is write-protected, mounting read-only
mount: cannot mount //192.168.1.110/d read-only
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装cifs-utils&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install cifs-utils
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看已挂载的共享目录&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo mount | tail -1
//192.168.1.110/d on /mnt/share type cifs (rw,relatime,vers=1.0,cache=strict,username=awesomeit,domain=DESKTOP-L440,uid=0,noforceuid,gid=0,noforcegid,addr=192.168.1.110,file_mode=0755,dir_mode=0755,nounix,serverino,mapposix,rsize=61440,wsize=65536,actimeo=1)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;在Ubuntu上使用umount卸载Windows共享目录的挂载点&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo umount /mnt/share

#卸载挂载点时，必须先离开挂载点目录，否则会报错：
umount: /mnt/share: target is busy
        (In some cases useful info about processes that
         use the device is found by lsof(8) or fuser(1).)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;5-使用ssh远程登录ubuntu:6983b54e6b04605973a28c88d174a1d6&#34;&gt;5. 使用ssh远程登录Ubuntu&lt;/h3&gt;

&lt;p&gt;Ubuntu16.04默认安装了“openssh-client”，但未安装“openssh-server”，在远程ssh时会提示：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ssh awesomeit@192.168.1.114
ssh: connect to host 192.168.1.114 port 22: Connection refused
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装openssh-server&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install openssh-server
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装完成即可使用ssh远程登录&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ssh awesomeit@192.168.1.114
The authenticity of host &#39;192.168.1.114 (192.168.1.114)&#39; can&#39;t be established.
ECDSA key fingerprint is SHA256:bNfIXbmCCh1qzw9d5VkOWecltbZV1OaKizH8pLuMigo.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added &#39;192.168.1.114&#39; (ECDSA) to the list of known hosts.
awesomeit@192.168.1.114&#39;s password:
Welcome to Ubuntu 16.04.1 LTS (GNU/Linux 4.4.0-57-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

1 个可升级软件包。
0 个安全更新。

Last login: Thu Jan  5 22:28:15 2017 from 192.168.1.107
awesomeit@awesomeit-virtual-machine:~$
awesomeit@awesomeit-virtual-machine:~$
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;但是默认不允许root用户远程ssh登录&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ssh root@192.168.1.114
root@192.168.1.114&#39;s password:
Permission denied, please try again.
root@192.168.1.114&#39;s password:
Permission denied, please try again.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;如要开启root用户ssh远程登录（不建议这样做），需修改配置文件&amp;rdquo;/etc/ssh/sshd_config&amp;rdquo;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo vim /etc/ssh/sshd_config
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;注释掉“PermitRootLogin prohibit-password”，添加“PermitRootLogin yes”&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#PermitRootLogin prohibit-password
PermitRootLogin yes
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;重启ssh服务&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo service ssh restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;再测试即可使用root用户ssh远程登录&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo service ssh restart

$ ssh root@192.168.1.114
root@192.168.1.114&#39;s password:
Welcome to Ubuntu 16.04.1 LTS (GNU/Linux 4.4.0-57-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

1 个可升级软件包。
0 个安全更新。

Last login: Thu Jan  5 22:38:09 2017 from 192.168.1.107
root@awesomeit-virtual-machine:~#
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>